<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="
    https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js
    "></script>
    <title>Congrats you did it!</title>
    <style>
        body {
            background-image: url('https://64.media.tumblr.com/fe6d6866c5f3902586116f472a2ab20f/921683666be3fa68-8a/s540x810/90260b81c89a1cc7d3f0bdabf9096d7530e3f83d.gifv');
    background-size: cover; /* Cover the entire background */
    background-position: center; /* Center the background image */
            color: black; /* Default text color */
            font-family: Arial, sans-serif; /* Use a common font for better compatibility */
            margin: 0; /* Remove default margin */
            padding: 0; /* Remove default padding */
            display: flex; /* Use flexbox for centering */
            justify-content: center; /* Center horizontally */
            align-items: center; /* Center vertically */
            min-height: 100vh; /* Ensure the page fills the viewport */
            text-align: center; /* Center text */
            margin-right: 40%; /* Adjust the left margin to move the content to the left */
}

        #content {
            max-width: 600px; /* Limit content width for better readability */
            width: 90%; /* Set width to a percentage for responsiveness */
            margin: auto; /* Center content horizontally */
            background-color: rgba(169, 169, 169, 0.5); /* Adjust the last value (alpha) for opacity */
}

        #timeDisplay {
            background-color: black; /* Grey background for the time display area */
            color: white; /* White text color for the time */
            padding: 10px; /* Add some padding for better readability */
            border-radius: 5px; /* Add rounded corners to the time display area */
            display: inline-block; /* Make the time display area inline-block for better positioning */
            margin-top: 20px; /* Add some space between the welcome message and the time display */
        }

        /* Style the image */
        img {
            width: 200px; /* Adjust the width as needed */
            height: auto; /* Maintain aspect ratio */
            position: absolute;
            right: 150;
            z-index: -1;
            /* vertical-align: middle; Align with text */
            /* margin-right: 10px; Add some space between image and text */
        }

        h1, img {
            display: inline-block; /* Display h1 and img on the same line */
        }

        #welcomeMessage {
            font-size: 24px; /* Increase font size for the welcome message */
            margin-bottom: 20px; /* Add some space between the welcome message and the time display */
        }

        #currentDay {
            font-size: 36px; /* Set font size for the current day */
            margin-bottom: 20px; /* Add some space between the current day and the to-do list */
            color: darkred; /* Dark red color for the current day */
            font-weight: bold; /* Bold font weight for the current day */
        }

        .checkbox-label {
            display: flex; /* Use flexbox to align items */
            align-items: center; /* Align items vertically */
            font-size: 20px; /* Increase font size for checkboxes */
            text-align: left; /* Align checkbox labels to the left */
            transition: opacity 1s ease; /* Add transition effect for fading out */
        }

        .checkbox-input {
            width: 30px; /* Set width of checkbox */
            height: 30px; /* Set height of checkbox */
            margin-right: 10px; /* Add some space between checkbox and label */
        }

        .completed-task {
            text-decoration: line-through; /* Cross out completed tasks */
            opacity: 0; /* Set initial opacity to 0 for fade-out effect */
            pointer-events: none; /* Disable pointer events on faded-out tasks */
        }

        /* Media query for smaller screens */
        @media screen and (max-width: 600px) {
            #content {
                width: 100%; /* Set width to 100% on smaller screens */
            }
        }
    </style>
    <script>
          function triggerConfetti() {
    var confettiSettings = {
        target: 'confetti-canvas', // ID of the canvas element
        max: 150, // Maximum number of confetti particles
        size: 1, // Size of confetti particles
        animate: true, // Whether to animate the confetti particles
        props: ['circle', 'square', 'triangle'], // Shapes of confetti particles
        colors: [[255, 0, 0], [0, 255, 0], [0, 0, 255]] // Colors of confetti particles
    };
    var confetti = new ConfettiGenerator(confettiSettings);
    confetti.render(); // Render the confetti effect
}


window.onload = function() {
    triggerConfetti(); // Trigger confetti when the page loads
};

        function updateClock() {
            var currentDate = new Date();
            var timeString = currentDate.toLocaleTimeString();
            document.getElementById("timeDisplay").innerText = timeString;
            var days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
            var currentDay = days[currentDate.getDay()];
            document.getElementById("currentDay").innerText = "Today is " + currentDay + "! 🌧️";
        }
    
        // Update the clock every second
        setInterval(updateClock, 1000);
    
        // Function to handle checkbox changes
        function handleCheckboxChange(checkbox) {
            var label = checkbox.parentElement; // Get the parent label element
            if (checkbox.checked) {
                label.classList.add("completed-task"); // Apply completed-task class if checkbox is checked
                setTimeout(function () {
                    label.style.opacity = "0"; // Fade out the task after a delay
                }, 3000); // Adjust the delay (in milliseconds) as needed
            } else {
                label.classList.remove("completed-task"); // Remove completed-task class if checkbox is unchecked
            }
            saveTasks(); // Save tasks after checkbox change
        }
    
        // Function to add task to the to-do list
        function addTask() {
            var taskInput = document.getElementById("taskInput");
            var taskName = taskInput.value.trim();
            if (taskName !== "") {
                var todoList = document.getElementById("todoList");
    
                var newCheckbox = document.createElement("input");
                newCheckbox.type = "checkbox";
                newCheckbox.className = "checkbox-input";
                newCheckbox.onchange = function () {
                    handleCheckboxChange(this);
                };
    
                var newLabel = document.createElement("label");
                newLabel.className = "checkbox-label";
                newLabel.appendChild(newCheckbox);
                newLabel.appendChild(document.createTextNode(taskName));
    
                todoList.appendChild(newLabel);
                taskInput.value = ""; // Clear the input field
    
                saveTasks(); // Save tasks after adding a new task
            }
        }
    
        // Function to save tasks to local storage
        function saveTasks() {
            var tasks = [];
            var labels = document.querySelectorAll(".checkbox-label");
            labels.forEach(function (label) {
                tasks.push({
                    name: label.textContent.trim(),
                    completed: label.querySelector(".checkbox-input").checked
                });
            });
            localStorage.setItem("tasks", JSON.stringify(tasks));
        }
    
        // Function to load tasks from the server
        function loadTasksFromServer() {
            fetch('http://localhost:3000/tasks')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Failed to fetch tasks');
                    }
                    return response.json(); // Parse response as JSON
                })
                .then(tasks => {
                    var todoList = document.getElementById("todoList");
                    todoList.innerHTML = ''; // Clear existing tasks
                    tasks.forEach(task => {
                        var newCheckbox = document.createElement("input");
                        newCheckbox.type = "checkbox";
                        newCheckbox.className = "checkbox-input";
                        newCheckbox.checked = task.completed;
                        newCheckbox.onchange = function () {
                            handleCheckboxChange(this);
                        };
    
                        var newLabel = document.createElement("label");
                        newLabel.className = "checkbox-label";
                        newLabel.appendChild(newCheckbox);
                        newLabel.appendChild(document.createTextNode(task.name));
    
                        todoList.appendChild(newLabel);
                    });
                })
                .catch(error => {
                    console.error('Error:', error.message);
                });
        }
    
        // Load tasks from the server when the page is loaded
        window.onload = loadTasksFromServer;
    </script>
</head>
<body>
    <canvas id="confetti-canvas"></canvas>

    <div id="content">
        <h1>Good job on waking up today king </h1>
        <div id="welcomeMessage"></div>
        <div id="currentDay"></div>
        <div id="timeDisplay"></div>  <img src="chika-dance.gif" alt="Your GIF">
        
        <h2>To-Do List</h2>

        <input type="text" id="taskInput" placeholder="Enter task">
        <button onclick="addTask()">Add Task</button>
        <br />
        <br />
        <div id="todoList">

        </div>

    </div>

</body>
</html>
